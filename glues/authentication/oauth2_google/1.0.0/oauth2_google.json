{
  "name": "oauth2_google",
  "version": "1.0.0",
  "description": "Google OAuth 2.0 authentication bridge that connects Google OAuth providers to PlugPipe authentication system",
  "category": "authentication",
  "status": "stable",
  "source_schema": "google_oauth_credentials",
  "target_schema": "plugpipe_user_session",
  "mappings": [
    {
      "source_field": "google_oauth_credentials.access_token",
      "target_field": "plugpipe_user_session.auth_token",
      "transform": {
        "operation": "token_bridge",
        "validation": "google_token_verification",
        "refresh_capability": "automatic"
      }
    },
    {
      "source_field": "google_oauth_credentials.user_profile",
      "target_field": "plugpipe_user_session.user_info",
      "transform": {
        "operation": "profile_mapping",
        "extract_fields": ["email", "name", "picture", "given_name", "family_name"],
        "domain_check": "validate_hosted_domain"
      }
    },
    {
      "source_field": "google_oauth_credentials.id_token",
      "target_field": "plugpipe_user_session.identity_claims",
      "transform": {
        "operation": "jwt_claims_extraction",
        "validation": "openid_connect_verification"
      }
    }
  ],
  "error_policy": "fail_fast",
  "tags": ["authentication", "oauth2", "google", "bridge", "enterprise"]
}